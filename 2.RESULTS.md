# レポート生成ロジック
- [レポート生成ロジックの実装](https://github.com/yanokkpj/bigfive-web-clone/blob/main/packages/results/src/index.ts)


## １．ドメイン（特性）

ビッグファイブの5つの主要特性は以下の通りです：

- **N**: 神経症的傾向（Neuroticism）- 不安、怒り、抑うつなどのネガティブ感情を経験する傾向
- **E**: 外向性（Extraversion）- 社交性、活発さ、刺激希求などの特性
- **O**: 開放性（Openness to Experience）- 好奇心、創造性、新しい経験への開放性
- **A**: 協調性（Agreeableness）- 思いやり、信頼、協力などの対人関係の特性
- **C**: 誠実性（Conscientiousness）- 計画性、責任感、自己規律などの特性

## ２．レポート生成フロー

1. ユーザーが質問パッケージから性格テストの質問に回答
2. 回答はスコアパッケージの `processAnswers` 関数で処理され、各ドメインとファセットのスコアが計算される
3. 各ドメインとファセットについて、計算されたスコアカテゴリ（high・neutral・low）に基づいて結果パッケージから適切な説明テキストを取得
4. 完全な性格プロファイルが組み立てられ、ユーザーに提示される

## ３．結果テキスト生成

結果テキストは各ドメインとファセットについて、スコアレベル（high・neutral・low）に応じた説明文を提供します。

各ドメインの結果テキストには以下が含まれます：
- タイトルと特性の説明
- 短い概要説明
- 高・中・低スコアに対応する詳細な結果テキスト
- 各ファセット（下位特性）の説明

## ４．インターフェース定義

### 入力インターフェース

```typescript
interface Answer {
  domain: string      // ドメイン（主要特性）の識別子
  facet?: number      // ファセット（副特性）の識別子（オプショナル）
  score: number       // 回答スコア（通常1-5の値）
}
``` 

### 出力インターフェース
```typescript
// 結果パッケージの各ドメインテンプレート
interface TemplateDomain {
  domain: string;            // ドメインコード ('A', 'C', 'E', 'N', 'O')
  title: string;             // ローカライズされたタイトル
  shortDescription: string;  // 簡単な説明
  description: string;       // 詳細な説明
  results: Array<{
    score: string;           // スコアカテゴリ (low/neutral/high)
    text: string;            // 対応する結果テキスト
  }>;
  facets: Array<{
    facet: number;           // ファセット番号
    title: string;           // ファセットタイトル
    text: string;            // ファセット説明
  }>;
}

// 完全な結果レポート
interface PersonalityResult {
  dimensions: Array<{
    domain: string;                // ドメインコード
    title: string;                 // ローカライズされたタイトル
    shortDescription: string;      // 簡単な説明
    description: string;           // 詳細な説明 
    result: string;                // スコアに基づく結果テキスト
    facets: Array<{
      facet: number;               // ファセット番号
      title: string;               // ファセットタイトル
      text: string;                // ファセット説明
      score: number;               // 数値スコア
      scoreText: string;           // スコアカテゴリ
    }>;
  }>;
}
```